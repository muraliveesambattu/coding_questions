<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function countSubstrings(s) {
            let count = 0;

            function expandAroundCenter(left, right) {
                while (left >= 0 && right < s.length && s[left] === s[right]) {
                    count++; // Count the current palindrome
                    left--;  // Expand to the left
                    right++; // Expand to the right
                }
            }

            // There are 2n - 1 centers in the string (n single characters and n-1 between pairs)
            for (let i = 0; i < s.length; i++) {
                // Odd-length palindromes (single character center)
                expandAroundCenter(i, i);

                // Even-length palindromes (two-character center)
                expandAroundCenter(i, i + 1);
            }

            return count;
        }

        // Example usage:
        console.log(countSubstrings("abc"));    // Output: 3 ("a", "b", "c")
        console.log(countSubstrings("aaa"));    // Output: 6 ("a", "a", "a", "aa", "aa", "aaa")
        console.log(countSubstrings("abba"));   // Output: 6 ("a", "b", "b", "a", "bb", "abba")

    </script>
</body>

</html>